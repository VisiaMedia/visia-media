"use strict";(self.webpackChunkvisia=self.webpackChunkvisia||[]).push([["swup"],{"./node_modules/@swup/a11y-plugin/dist/index.modern.js":function(t,e,s){s.r(e),s.d(e,{default:function(){return a}});var i=s("./node_modules/swup/dist/Swup.modern.js"),n=s("./node_modules/@swup/plugin/dist/index.modern.js"),o=s("./node_modules/on-demand-live-region/on-demand-live-region.js");s("./node_modules/focus-options-polyfill/index.js");function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},r.apply(this,arguments)}class a extends n.default{constructor(t={}){var e,s;super(),this.name="SwupA11yPlugin",this.requires={swup:">=4"},this.defaults={contentSelector:"main",headingSelector:"h1, h2, [role=heading]",respectReducedMotion:!1,announcements:{visit:"Navigated to: {title}",url:"New page at {url}"}},this.options=void 0,this.liveRegion=void 0,t.announcements=r({},this.defaults.announcements,{visit:null!=(e=t.announcementTemplate)?e:this.defaults.announcements.visit,url:null!=(s=t.urlTemplate)?s:this.defaults.announcements.url},t.announcements),this.options=r({},this.defaults,t),this.liveRegion=new o}mount(){this.swup.hooks.create("content:announce"),this.swup.hooks.create("content:focus"),this.before("visit:start",this.prepareVisit),this.on("visit:start",this.markAsBusy),this.on("visit:end",this.unmarkAsBusy),this.on("content:replace",this.prepareAnnouncement),this.on("content:replace",this.handleNewPageContent),this.options.respectReducedMotion&&(this.before("visit:start",this.disableTransitionAnimations),this.before("visit:start",this.disableScrollAnimations),this.before("link:self",this.disableScrollAnimations),this.before("link:anchor",this.disableScrollAnimations))}markAsBusy(){document.documentElement.setAttribute("aria-busy","true")}unmarkAsBusy(){document.documentElement.removeAttribute("aria-busy")}prepareVisit(t){t.a11y={announce:void 0,focus:this.options.contentSelector}}prepareAnnouncement(t){if(void 0!==t.a11y.announce)return;const{contentSelector:e,headingSelector:s,announcements:n}=this.options,{href:o,url:r,pathname:a}=i.Location.fromUrl(window.location.href),l=n[document.documentElement.lang||"*"]||n["*"]||n;if("object"!=typeof l)return;const c=document.querySelector(`${e} ${s}`);let h=(null==c?void 0:c.getAttribute("aria-label"))||(null==c?void 0:c.textContent);h=h||document.title||this.parseTemplate(l.url,{href:o,url:r,path:a});const u=this.parseTemplate(l.visit,{title:h,href:o,url:r,path:a});t.a11y.announce=u}parseTemplate(t,e){return Object.keys(e).reduce(((t,s)=>t.replace(`{${s}}`,e[s]||"")),t||"")}handleNewPageContent(){var t=this;(0,i.nextTick)().then((async function(){t.swup.hooks.call("content:announce",void 0,(e=>{t.announcePageName(e)})),t.swup.hooks.call("content:focus",void 0,(e=>{t.focusPageContent(e)}))}))}announcePageName(t){t.a11y.announce&&this.liveRegion.say(t.a11y.announce)}async focusPageContent(t){if(!t.a11y.focus)return;const e=document.querySelector(t.a11y.focus);e instanceof HTMLElement&&(this.needsTabindex(e)&&e.setAttribute("tabindex","-1"),e.focus({preventScroll:!0}))}disableTransitionAnimations(t){t.animation.animate=t.animation.animate&&this.shouldAnimate()}disableScrollAnimations(t){t.scroll.animate=t.scroll.animate&&this.shouldAnimate()}shouldAnimate(){return!window.matchMedia("(prefers-reduced-motion: reduce)").matches}needsTabindex(t){return!t.matches("a, button, input, textarea, select, details, [tabindex]")}}},"./node_modules/@swup/body-class-plugin/dist/index.modern.js":function(t,e,s){s.r(e),s.d(e,{default:function(){return o}});var i=s("./node_modules/@swup/plugin/dist/index.modern.js");function n(){return n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},n.apply(this,arguments)}class o extends i.default{constructor(t={}){super(),this.name="SwupBodyClassPlugin",this.requires={swup:">=4"},this.defaults={prefix:""},this.options=void 0,this.updateBodyClass=(t,{page:{html:e}})=>{this.updateClassNames(document.body,this.getBodyElement(e))},this.options=n({},this.defaults,t)}mount(){this.on("content:replace",this.updateBodyClass)}getBodyElement(t){return(new DOMParser).parseFromString(t,"text/html").querySelector("body")}updateClassNames(t,e){const s=[...t.classList].filter((t=>this.isValidClassName(t))),i=[...e.classList].filter((t=>this.isValidClassName(t)));t.classList.remove(...s),t.classList.add(...i)}isValidClassName(t){return t&&t.startsWith(this.options.prefix)}}},"./node_modules/@swup/forms-plugin/dist/index.modern.js":function(t,e,s){s.r(e),s.d(e,{default:function(){return r}});var i=s("./node_modules/@swup/plugin/dist/index.modern.js"),n=s("./node_modules/swup/dist/Swup.modern.js");function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},o.apply(this,arguments)}class r extends i.default{constructor(t={}){super(),this.name="SwupFormsPlugin",this.requires={swup:">=4"},this.defaults={formSelector:"form[data-swup-form]",inlineFormSelector:"form[data-swup-inline-form]"},this.options=void 0,this.specialKeys={Meta:!1,Control:!1,Shift:!1},this.formSubmitDelegate=void 0,this.onKeyDown=t=>{this.specialKeys.hasOwnProperty(t.key)&&(this.specialKeys[t.key]=!0)},this.onKeyUp=t=>{this.specialKeys.hasOwnProperty(t.key)&&(this.specialKeys[t.key]=!1)},this.handleInlineForms=t=>{const{el:e}=t.trigger;if(null==e||!e.matches(this.options.inlineFormSelector))return;if(!e.id)return void console.error("[@swup/forms-plugin] inline forms must have an id attribute:",e);const s=`#${e.id}`;t.containers=[s],t.animation.scope="containers",t.animation.selector=s,t.scroll.target=s;const i=t.a11y;"object"==typeof i&&(i.focus=s)},this.options=o({},this.defaults,t)}mount(){this.swup.hooks.create("form:submit"),this.swup.hooks.create("form:submit:newtab"),this.formSubmitDelegate=this.swup.delegateEvent(this.options.formSelector,"submit",this.beforeFormSubmit.bind(this),{capture:!0}),this.on("visit:start",this.handleInlineForms,{priority:1}),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}unmount(){var t;null==(t=this.formSubmitDelegate)||t.destroy(),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)}beforeFormSubmit(t){const e=this.swup,{delegateTarget:s,submitter:i}=t,o=this.getFormAttr("action",s,i)||(0,n.getCurrentUrl)(),r=this.isSpecialKeyPressed(),a="_blank"===this.getFormAttr("target",s,i);if(r||a||!e.shouldIgnoreVisit(o,{el:s,event:t})){if(!a)return r?(e.hooks.callSync("form:submit:newtab",{el:s,event:t}),s.dataset.swupOriginalFormTarget=s.getAttribute("target")||"",s.setAttribute("target","_blank"),void s.addEventListener("submit",(()=>requestAnimationFrame((()=>this.restorePreviousFormTarget(s)))),{once:!0})):void e.hooks.callSync("form:submit",{el:s,event:t},(()=>{this.submitForm(t)}));e.hooks.callSync("form:submit:newtab",{el:s,event:t})}}restorePreviousFormTarget(t){t.dataset.swupOriginalFormTarget?t.setAttribute("target",t.dataset.swupOriginalFormTarget):t.removeAttribute("target")}submitForm(t){const e=t.delegateTarget,{url:s,hash:i,method:n,data:o,body:r}=this.getFormInfo(e,t);let a=s,l={method:n};switch(n){case"POST":l={method:n,body:r};break;case"GET":a=this.appendQueryParams(a,o);break;default:return void console.warn(`Unsupported form method: ${n}`)}t.preventDefault(),this.swup.cache.delete(a),this.swup.navigate(a+i,l,{el:e,event:t})}getFormInfo(t,{submitter:e}){const s=(this.getFormAttr("method",t,e)||"get").toUpperCase(),i=this.getFormAttr("action",t,e)||(0,n.getCurrentUrl)(),{url:o,hash:r}=n.Location.fromUrl(i),a=(this.getFormAttr("enctype",t,e)||"application/x-www-form-urlencoded").toLowerCase(),l="multipart/form-data"===a,c=new FormData(t);let h;return h=l?c:new URLSearchParams(c),{url:o,hash:r,method:s,data:c,body:h,encoding:a}}getFormAttr(t,e,s=null){var i;return null!=(i=null==s?void 0:s.getAttribute(`form${t}`))?i:e.getAttribute(t)}appendQueryParams(t,e){const s=t.split("?")[0],i=new URLSearchParams(e).toString();return i?`${s}?${i}`:s}isSpecialKeyPressed(){return Object.values(this.specialKeys).some((t=>t))}resetSpecialKeys(){for(const t of Object.keys(this.specialKeys))this.specialKeys[t]=!1}}},"./node_modules/@swup/head-plugin/dist/index.modern.js":function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});var i=s("./node_modules/@swup/plugin/dist/index.modern.js");function n(){return n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},n.apply(this,arguments)}function o(t){return"title"!==t.localName&&!t.matches("[data-swup-theme]")}function r(t,e){return t.outerHTML===e.outerHTML}function a(t){return t.matches("link[rel=stylesheet][href]")}class l extends i.default{constructor(t={}){var e;super(),e=this,this.name="SwupHeadPlugin",this.requires={swup:">=4"},this.defaults={persistTags:!1,persistAssets:!1,awaitAssets:!1,timeout:3e3},this.options=void 0,this.updateHead=async function(t,{page:{html:s}}){const i=(new DOMParser).parseFromString(s,"text/html"),{removed:n,added:l}=function(t,e,{shouldPersist:s=(()=>!1)}={}){const i=Array.from(t.children),n=Array.from(e.children),a=(l=i,n.reduce(((t,e,s)=>(l.some((t=>r(e,t)))||t.push({el:e,index:s}),t)),[]));var l;const c=function(t,e){return t.reduce(((t,s)=>(e.some((t=>r(s,t)))||t.push({el:s}),t)),[])}(i,n);return c.reverse().filter((({el:t})=>o(t))).filter((({el:t})=>!s(t))).forEach((({el:e})=>t.removeChild(e))),a.filter((({el:t})=>o(t))).forEach((({el:e,index:s=0})=>{t.insertBefore(e,t.children[s+1]||null)})),{removed:c.map((({el:t})=>t)),added:a.map((({el:t})=>t))}}(document.head,i.head,{shouldPersist:t=>e.isPersistentTag(t)});e.swup.log(`Removed ${n.length} / added ${l.length} tags in head`);const c=(h=document.documentElement).lang!==(u=i.documentElement).lang?(h.lang=u.lang,h.lang):null;var h,u;if(c&&e.swup.log(`Updated lang attribute: ${c}`),e.options.awaitAssets){const t=function(t,e=0){return t.filter(a).map((t=>function(t,e=0){const s=e=>{(({href:t})=>Array.from(document.styleSheets).map((({href:t})=>t)).includes(t))(t)?e():setTimeout((()=>s(e)),10)};return new Promise((t=>{s(t),e>0&&setTimeout(t,e)}))}(t,e)))}(l,e.options.timeout);t.length&&(e.swup.log(`Waiting for ${t.length} assets to load`),await Promise.all(t))}},this.options=n({},this.defaults,t),this.options.persistAssets&&!this.options.persistTags&&(this.options.persistTags="link[rel=stylesheet], script[src], style")}mount(){this.before("content:replace",this.updateHead)}isPersistentTag(t){const{persistTags:e}=this.options;return"function"==typeof e?e(t):"string"==typeof e?t.matches(e):Boolean(e)}}},"./node_modules/@swup/js-plugin/dist/index.modern.js":function(t,e,s){s.r(e),s.d(e,{default:function(){return r}});var i=s("./node_modules/@swup/js-plugin/node_modules/@swup/plugin/dist/index.modern.js"),n=s("./node_modules/swup/dist/Swup.modern.js");function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},o.apply(this,arguments)}class r extends i.default{constructor(t){var e;super(),e=this,this.name="SwupJsPlugin",this.requires={swup:">=4"},this.defaults={animations:[{from:"(.*)",to:"(.*)",out:t=>t(),in:t=>t()}],matchOptions:{}},this.options=void 0,this.animations=[],this.awaitInAnimation=async function(t,{skip:s}){if(s)return;const i=e.getBestAnimationMatch(t);await e.createAnimationPromise(i,t,"in")},this.awaitOutAnimation=async function(t,{skip:s}){if(s)return;const i=e.getBestAnimationMatch(t);await e.createAnimationPromise(i,t,"out")},Array.isArray(t)&&(t={animations:t}),this.options=o({},this.defaults,t),this.animations=this.compileAnimations()}mount(){this.replace("animation:in:await",this.awaitInAnimation,{priority:-1}),this.replace("animation:out:await",this.awaitOutAnimation,{priority:-1})}compileAnimations(){return this.options.animations.map((t=>o({},t,{matchesFrom:(0,n.matchPath)(t.from,this.options.matchOptions),matchesTo:(0,n.matchPath)(t.to,this.options.matchOptions)})))}createAnimationPromise(t,e,s){const i=t?t[s]:null;if(!t||!i)return console.warn("No animation found"),Promise.resolve();const o=t.matchesFrom(e.from.url),r=t.matchesTo(e.to.url),a={visit:e,direction:s,from:{url:e.from.url,pattern:t.from,params:o?o.params:{}},to:{url:e.to.url,pattern:t.to,params:r?r.params:{}}};return new Promise((t=>{const e=i((()=>t()),a);(0,n.isPromise)(e)&&e.then(t)}))}getBestAnimationMatch(t){let e=0;return this.animations.reduceRight(((s,i)=>{const n=this.rateAnimation(t,i);return n>=e?(e=n,i):s}),null)}rateAnimation(t,e){const s=t.to.url,i=t.animation.name;let n=0;const o=e.matchesFrom(t.from.url);return o&&(n+=1),e.matchesTo(s)&&(n+=1),o&&e.to===i&&(n+=2),n}}},"./node_modules/@swup/js-plugin/node_modules/@swup/plugin/dist/index.modern.js":function(t,e,s){function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},i.apply(this,arguments)}s.r(e),s.d(e,{default:function(){return o}});const n=t=>String(t).split(".").map((t=>String(parseInt(t||"0",10)))).concat(["0","0"]).slice(0,3).join(".");class o{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach((t=>t())),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return"object"!=typeof this.requires||Object.entries(this.requires).forEach((([t,e])=>{if(!function(t,e,s){const i=function(t,e){var s;if("swup"===t)return null!=(s=e.version)?s:"";{var i;const s=e.findPlugin(t);return null!=(i=null==s?void 0:s.version)?i:""}}(t,s);return!!i&&((t,e)=>e.every((e=>{const[,s,i]=e.match(/^([\D]+)?(.*)$/)||[];var o,r;return((t,e)=>{const s={"":t=>0===t,">":t=>t>0,">=":t=>t>=0,"<":t=>t<0,"<=":t=>t<=0};return(s[e]||s[""])(t)})((r=i,o=n(o=t),r=n(r),o.localeCompare(r,void 0,{numeric:!0})),s||">=")})))(i,e)}(t,e=Array.isArray(e)?e:[e],this.swup)){const s=`${t} ${e.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${s}`)}})),!0}on(t,e,s={}){var i;e=!(i=e).name.startsWith("bound ")||i.hasOwnProperty("prototype")?e.bind(this):e;const n=this.swup.hooks.on(t,e,s);return this.handlersToUnregister.push(n),n}once(t,e,s={}){return this.on(t,e,i({},s,{once:!0}))}before(t,e,s={}){return this.on(t,e,i({},s,{before:!0}))}replace(t,e,s={}){return this.on(t,e,i({},s,{replace:!0}))}off(t,e){return this.swup.hooks.off(t,e)}}},"./node_modules/@swup/plugin/dist/index.modern.js":function(t,e,s){function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},i.apply(this,arguments)}s.r(e),s.d(e,{default:function(){return o}});const n=t=>String(t).split(".").map((t=>String(parseInt(t||"0",10)))).concat(["0","0"]).slice(0,3).join(".");class o{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach((t=>t())),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return"object"!=typeof this.requires||Object.entries(this.requires).forEach((([t,e])=>{if(!function(t,e,s){const i=function(t,e){var s;if("swup"===t)return null!=(s=e.version)?s:"";{var i;const s=e.findPlugin(t);return null!=(i=null==s?void 0:s.version)?i:""}}(t,s);return!!i&&((t,e)=>e.every((e=>{const[,s,i]=e.match(/^([\D]+)?(.*)$/)||[];var o,r;return((t,e)=>{const s={"":t=>0===t,">":t=>t>0,">=":t=>t>=0,"<":t=>t<0,"<=":t=>t<=0};return(s[e]||s[""])(t)})((r=i,o=n(o=t),r=n(r),o.localeCompare(r,void 0,{numeric:!0})),s||">=")})))(i,e)}(t,e=Array.isArray(e)?e:[e],this.swup)){const s=`${t} ${e.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${s}`)}})),!0}on(t,e,s={}){var i;e=!(i=e).name.startsWith("bound ")||i.hasOwnProperty("prototype")?e.bind(this):e;const n=this.swup.hooks.on(t,e,s);return this.handlersToUnregister.push(n),n}once(t,e,s={}){return this.on(t,e,i({},s,{once:!0}))}before(t,e,s={}){return this.on(t,e,i({},s,{before:!0}))}replace(t,e,s={}){return this.on(t,e,i({},s,{replace:!0}))}off(t,e){return this.swup.hooks.off(t,e)}}},"./node_modules/@swup/preload-plugin/dist/index.modern.js":function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=s("./node_modules/@swup/plugin/dist/index.modern.js"),n=s("./node_modules/swup/dist/Swup.modern.js");function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},o.apply(this,arguments)}function r(){return window.matchMedia("(hover: hover)").matches}const a=window.requestIdleCallback||(t=>setTimeout(t,1)),l=["preloadVisibleLinks"];class c extends i.default{constructor(t={}){var e;super(),e=this,this.name="SwupPreloadPlugin",this.requires={swup:">=4"},this.defaults={throttle:5,preloadInitialPage:!0,preloadHoveredLinks:!0,preloadVisibleLinks:{enabled:!1,threshold:.2,delay:500,containers:["body"],ignore:()=>!1}},this.options=void 0,this.queue=void 0,this.preloadObserver=void 0,this.preloadPromises=new Map,this.mouseEnterDelegate=void 0,this.touchStartDelegate=void 0,this.focusDelegate=void 0,this.onPageLoad=(t,e,s)=>{const{url:i}=t.to;return i&&this.preloadPromises.has(i)?this.preloadPromises.get(i):s(t,e)},this.onMouseEnter=async function(t){if(t.target!==t.delegateTarget)return;if(!r())return;const s=t.delegateTarget;s instanceof HTMLAnchorElement&&(e.swup.hooks.callSync("link:hover",{el:s,event:t}),e.preload(s,{priority:!0}))},this.onTouchStart=t=>{if(r())return;const e=t.delegateTarget;e instanceof HTMLAnchorElement&&this.preload(e,{priority:!0})},this.onFocus=t=>{const e=t.delegateTarget;e instanceof HTMLAnchorElement&&this.preload(e,{priority:!0})};const{preloadVisibleLinks:s}=t,i=function(t,e){if(null==t)return{};var s,i,n={},o=Object.keys(t);for(i=0;i<o.length;i++)e.indexOf(s=o[i])>=0||(n[s]=t[s]);return n}(t,l);this.options=o({},this.defaults,i),"object"==typeof s?this.options.preloadVisibleLinks=o({},this.options.preloadVisibleLinks,{enabled:!0},s):this.options.preloadVisibleLinks.enabled=Boolean(s),this.preload=this.preload.bind(this),this.queue=function(t=1){const e=[],s=[];let i=0,n=0;function o(){n<t&&i>0&&((s.shift()||e.shift()||(()=>{}))(),i--,n++)}return{add:function(t,n=!1){if(t.__queued){if(!n)return;{const s=e.indexOf(t);if(s>=0){const t=e.splice(s,1);i-=t.length}}}t.__queued=!0,(n?s:e).push(t),i++,i<=1&&o()},next:function(){n--,o()}}}(this.options.throttle)}mount(){const t=this.swup;if(!t.options.cache)return void console.warn("SwupPreloadPlugin: swup cache needs to be enabled for preloading");t.hooks.create("page:preload"),t.hooks.create("link:hover"),t.preload=this.preload,t.preloadLinks=this.preloadLinks;const{linkSelector:e}=t.options,s={passive:!0,capture:!0};this.mouseEnterDelegate=t.delegateEvent(e,"mouseenter",this.onMouseEnter,s),this.touchStartDelegate=t.delegateEvent(e,"touchstart",this.onTouchStart,s),this.focusDelegate=t.delegateEvent(e,"focus",this.onFocus,s),this.replace("page:load",this.onPageLoad),this.options.preloadHoveredLinks&&(this.preloadLinks(),this.on("page:view",(()=>this.preloadLinks()))),this.options.preloadVisibleLinks.enabled&&(this.preloadVisibleLinks(),this.on("page:view",(()=>this.preloadVisibleLinks()))),this.options.preloadInitialPage&&this.preload((0,n.getCurrentUrl)())}unmount(){var t,e,s;this.swup.preload=void 0,this.swup.preloadLinks=void 0,this.preloadPromises.clear(),null==(t=this.mouseEnterDelegate)||t.destroy(),null==(e=this.touchStartDelegate)||e.destroy(),null==(s=this.focusDelegate)||s.destroy(),this.stopPreloadingVisibleLinks()}async preload(t,e={}){var s;let i,o;const r=null!=(s=e.priority)&&s;if(Array.isArray(t))return Promise.all(t.map((t=>this.preload(t))));if(t instanceof HTMLAnchorElement)o=t,({url:i}=n.Location.fromElement(t));else{if("string"!=typeof t)return;i=t}if(this.preloadPromises.has(i))return this.preloadPromises.get(i);if(!this.shouldPreload(i,{el:o}))return;const a=new Promise((t=>{this.queue.add((()=>{this.performPreload(i).catch((()=>{})).then((e=>t(e))).finally((()=>{this.queue.next(),this.preloadPromises.delete(i)}))}),r)}));return this.preloadPromises.set(i,a),a}preloadLinks(){a((()=>{Array.from(document.querySelectorAll("a[data-swup-preload], [data-swup-preload-all] a")).forEach((t=>this.preload(t)))}))}preloadVisibleLinks(){if(this.preloadObserver)return void this.preloadObserver.update();const{threshold:t,delay:e,containers:s}=this.options.preloadVisibleLinks;this.preloadObserver=function({threshold:t,delay:e,containers:s,callback:i,filter:n}){const o=new Map,r=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?l(t.target):c(t.target)}))}),{threshold:t}),l=t=>{var s;const n=null!=(s=o.get(t.href))?s:new Set;o.set(t.href,n),n.add(t),setTimeout((()=>{const e=o.get(t.href);null!=e&&e.size&&(i(t),r.unobserve(t),e.delete(t))}),e)},c=t=>{var e;return null==(e=o.get(t.href))?void 0:e.delete(t)},h=()=>{a((()=>{const t=s.map((t=>`${t} a[href]`)).join(", ");Array.from(document.querySelectorAll(t)).filter((t=>n(t))).forEach((t=>r.observe(t)))}))};return{start:()=>h(),stop:()=>r.disconnect(),update:()=>(o.clear(),h())}}({threshold:t,delay:e,containers:s,callback:t=>this.preload(t),filter:t=>!this.options.preloadVisibleLinks.ignore(t)&&this.shouldPreload(t.href,{el:t})}),this.preloadObserver.start()}stopPreloadingVisibleLinks(){this.preloadObserver&&this.preloadObserver.stop()}shouldPreload(t,{el:e}={}){const{url:s,href:i}=n.Location.fromUrl(t);return!(!function(){if(navigator.connection){var t;if(navigator.connection.saveData)return!1;if(null!=(t=navigator.connection.effectiveType)&&t.endsWith("2g"))return!1}return!0}()||this.swup.cache.has(s)||this.preloadPromises.has(s)||this.swup.shouldIgnoreVisit(i,{el:e})||e&&this.swup.resolveUrl(s)===this.swup.resolveUrl((0,n.getCurrentUrl)()))}async performPreload(t){const e=await this.swup.fetchPage(t);return await this.swup.hooks.call("page:preload",{page:e}),e}}},"./node_modules/@swup/scroll-plugin/dist/index.modern.js":function(t,e,s){s.r(e),s.d(e,{default:function(){return a}});var i=s("./node_modules/@swup/plugin/dist/index.modern.js"),n=s("./node_modules/swup/dist/Swup.modern.js"),o=s("./node_modules/scrl/dist/index.modern.js");function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},r.apply(this,arguments)}class a extends i.default{constructor(t={}){super(),this.name="SwupScrollPlugin",this.requires={swup:">=4.2.0"},this.scrl=void 0,this.defaults={doScrollingRightAway:!1,animateScroll:{betweenPages:!0,samePageWithHash:!0,samePage:!0},scrollFriction:.3,scrollAcceleration:.04,getAnchorElement:void 0,offset:0,scrollContainers:"[data-swup-scroll-container]",shouldResetScrollPosition:()=>!0,markScrollTarget:!1},this.options=void 0,this.cachedScrollPositions={},this.previousScrollRestoration=void 0,this.currentCacheKey=void 0,this.getAnchorElement=(t="")=>"function"==typeof this.options.getAnchorElement?this.options.getAnchorElement(t):this.swup.getAnchorElement(t),this.getOffset=t=>t?"function"==typeof this.options.offset?parseInt(String(this.options.offset(t)),10):parseInt(String(this.options.offset),10):0,this.onBeforeLinkToSelf=t=>{t.scroll.animate=this.shouldAnimate("samePage")},this.handleScrollToTop=t=>{var e,s;return null==(e=(s=this.swup).scrollTo)||e.call(s,0,t.scroll.animate),!0},this.onBeforeLinkToAnchor=t=>{t.scroll.animate=this.shouldAnimate("samePageWithHash")},this.handleScrollToAnchor=(t,{hash:e})=>this.maybeScrollToAnchor(e,t.scroll.animate),this.onBeforeVisitStart=t=>{t.scroll.scrolledToContent=!1,t.scroll.animate=this.shouldAnimate("betweenPages")},this.onVisitStart=t=>{var e;this.cacheScrollPositions(t.from.url),this.maybeResetScrollPositions(t);const s=null!=(e=t.scroll.target)?e:t.to.hash;t.scroll.animate&&this.options.doScrollingRightAway&&!s&&this.doScrollingBetweenPages(t)},this.handleScrollToContent=t=>{t.scroll.scrolledToContent||this.doScrollingBetweenPages(t),this.restoreScrollContainers(t.to.url)},this.doScrollingBetweenPages=t=>{var e,s;if(t.history.popstate&&!t.animation.animate)return;const i=null!=(e=t.scroll.target)?e:t.to.hash;if(i&&this.maybeScrollToAnchor(i,t.scroll.animate))return;if(!t.scroll.reset)return;const n=this.getCachedScrollPositions(t.to.url),o=(null==n||null==(s=n.window)?void 0:s.top)||0;requestAnimationFrame((()=>{var e,s;return null==(e=(s=this.swup).scrollTo)?void 0:e.call(s,o,t.scroll.animate)})),t.scroll.scrolledToContent=!0},this.maybeResetScrollPositions=t=>{const{popstate:e}=t.history,{url:s}=t.to,{el:i}=t.trigger;e||i&&!this.options.shouldResetScrollPosition(i)||this.resetScrollPositions(s)},this.options=r({},this.defaults,t)}mount(){const t=this.swup;t.hooks.create("scroll:start"),t.hooks.create("scroll:end"),this.scrl=new o.default({onStart:()=>t.hooks.callSync("scroll:start",void 0),onEnd:()=>t.hooks.callSync("scroll:end",void 0),onCancel:()=>t.hooks.callSync("scroll:end",void 0),friction:this.options.scrollFriction,acceleration:this.options.scrollAcceleration}),t.scrollTo=(e,s=!0)=>{s?this.scrl.scrollTo(e):(t.hooks.callSync("scroll:start",void 0),window.scrollTo(0,e),t.hooks.callSync("scroll:end",void 0))},this.previousScrollRestoration=window.history.scrollRestoration,t.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.updateScrollTarget=this.updateScrollTarget.bind(this),this.options.markScrollTarget&&(window.addEventListener("popstate",this.updateScrollTarget),window.addEventListener("hashchange",this.updateScrollTarget),this.on("page:view",this.updateScrollTarget),this.on("link:anchor",this.updateScrollTarget),this.on("link:self",this.updateScrollTarget),this.updateScrollTarget()),this.before("visit:start",this.onBeforeVisitStart,{priority:-1}),this.on("visit:start",this.onVisitStart,{priority:1}),this.replace("content:scroll",this.handleScrollToContent),this.before("link:self",this.onBeforeLinkToSelf,{priority:-1}),this.replace("scroll:top",this.handleScrollToTop),this.before("link:anchor",this.onBeforeLinkToAnchor,{priority:-1}),this.replace("scroll:anchor",this.handleScrollToAnchor)}unmount(){super.unmount(),this.previousScrollRestoration&&(window.history.scrollRestoration=this.previousScrollRestoration),window.removeEventListener("popstate",this.updateScrollTarget),window.removeEventListener("hashchange",this.updateScrollTarget),this.cachedScrollPositions={},delete this.swup.scrollTo,delete this.scrl}shouldAnimate(t){return"boolean"==typeof this.options.animateScroll?this.options.animateScroll:this.options.animateScroll[t]}maybeScrollToAnchor(t,e=!1){var s,i;if(!t)return!1;const n=this.getAnchorElement(t);if(!n)return console.warn(`Anchor target ${t} not found`),!1;if(!(n instanceof Element))return console.warn(`Anchor target ${t} is not a DOM node`),!1;const{top:o}=n.getBoundingClientRect(),r=o+window.scrollY-this.getOffset(n);return null==(s=(i=this.swup).scrollTo)||s.call(i,r,e),!0}cacheScrollPositions(t){const e=this.swup.resolveUrl(t),s=(0,n.queryAll)(this.options.scrollContainers).map((t=>({top:t.scrollTop,left:t.scrollLeft}))),i={window:{top:window.scrollY,left:window.scrollX},containers:s};this.cachedScrollPositions[e]=i}resetScrollPositions(t){const e=this.swup.resolveUrl(t);delete this.cachedScrollPositions[e]}getCachedScrollPositions(t){const e=this.swup.resolveUrl(t);return this.cachedScrollPositions[e]}restoreScrollContainers(t){const e=this.getCachedScrollPositions(t);e&&0!==e.containers.length&&(0,n.queryAll)(this.options.scrollContainers).forEach(((t,s)=>{const i=e.containers[s];null!=i&&(t.scrollTop=i.top,t.scrollLeft=i.left)}))}updateScrollTarget(){var t;const{hash:e}=window.location,s=document.querySelector("[data-swup-scroll-target]");let i=this.getAnchorElement(e);i instanceof HTMLBodyElement&&(i=null),s!==i&&(null==s||s.removeAttribute("data-swup-scroll-target"),null==(t=i)||t.setAttribute("data-swup-scroll-target",""))}}},"./node_modules/swup/dist/Swup.modern.js":function(t,e,s){s.r(e),s.d(e,{Location:function(){return u},classify:function(){return r},createHistoryRecord:function(){return l},default:function(){return W},delegateEvent:function(){return h},escapeCssIdentifier:function(){return k},forceReflow:function(){return S},getCurrentUrl:function(){return a},isPromise:function(){return y},matchPath:function(){return d},nextTick:function(){return v},query:function(){return g},queryAll:function(){return w},runAsPromise:function(){return b},toMs:function(){return P},updateHistoryRecord:function(){return c}});var i=s("./node_modules/delegate-it/index.js"),n=s("./node_modules/path-to-regexp/dist.es2015/index.js");function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},o.apply(this,arguments)}const r=(t,e)=>String(t).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||e||"",a=({hash:t}={})=>location.pathname+location.search+(t?location.hash:""),l=(t,e={})=>{const s=o({url:t=t||a({hash:!0}),random:Math.random(),source:"swup"},e);history.pushState(s,"",t)},c=(t=null,e={})=>{t=t||a({hash:!0});const s=o({},history.state||{},{url:t,random:Math.random(),source:"swup"},e);history.replaceState(s,"",t)},h=(t,e,s,n)=>{const r=new AbortController;return n=o({},n,{signal:r.signal}),(0,i.default)(t,e,s,n),{destroy:()=>r.abort()}};class u extends URL{constructor(t,e=document.baseURI){super(t.toString(),e)}get url(){return this.pathname+this.search}static fromElement(t){const e=t.getAttribute("href")||t.getAttribute("xlink:href")||"";return new u(e)}static fromUrl(t){return new u(t)}}const d=(t,e)=>{try{return(0,n.match)(t,e)}catch(e){throw new Error(`[swup] Error parsing path "${String(t)}":\n${String(e)}`)}};class p extends Error{constructor(t,e){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=e.url,this.status=e.status,this.aborted=e.aborted||!1,this.timedOut=e.timedOut||!1}}async function m(t,e={}){var s;t=u.fromUrl(t).url;const i=o({},this.options.requestHeaders,e.headers),n=null!=(s=e.timeout)?s:this.options.timeout,r=new AbortController,{signal:a}=r;e=o({},e,{headers:i,signal:a});let l,c=!1,h=null;n&&n>0&&(h=setTimeout((()=>{c=!0,r.abort("timeout")}),n));try{l=await this.hooks.call("fetch:request",{url:t,options:e},((t,{url:e,options:s})=>fetch(e,s))),h&&clearTimeout(h)}catch(e){if(c)throw this.hooks.call("fetch:timeout",{url:t}),new p(`Request timed out: ${t}`,{url:t,timedOut:c});if("AbortError"===(null==e?void 0:e.name)||a.aborted)throw new p(`Request aborted: ${t}`,{url:t,aborted:!0});throw e}const{status:d,url:m}=l,f=await l.text();if(500===d)throw this.hooks.call("fetch:error",{status:d,response:l,url:m}),new p(`Server error: ${m}`,{status:d,url:m});if(!f)throw new p(`Empty response: ${m}`,{status:d,url:m});const{url:g}=u.fromUrl(m),w={url:g,html:f};return!this.visit.cache.write||e.method&&"GET"!==e.method||t!==g||this.cache.set(w.url,w),w}class f{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){const t=new Map;return this.pages.forEach(((e,s)=>{t.set(s,o({},e))})),t}has(t){return this.pages.has(this.resolve(t))}get(t){const e=this.pages.get(this.resolve(t));return e?o({},e):e}set(t,e){e=o({},e,{url:t=this.resolve(t)}),this.pages.set(t,e),this.swup.hooks.callSync("cache:set",{page:e})}update(t,e){t=this.resolve(t);const s=o({},this.get(t),e,{url:t});this.pages.set(t,s)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0)}prune(t){this.pages.forEach(((e,s)=>{t(s,e)&&this.delete(s)}))}resolve(t){const{url:e}=u.fromUrl(t);return this.swup.resolveUrl(e)}}const g=(t,e=document)=>e.querySelector(t),w=(t,e=document)=>Array.from(e.querySelectorAll(t)),v=()=>new Promise((t=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{t()}))}))}));function y(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}function b(t,e=[]){return new Promise(((s,i)=>{const n=t(...e);y(n)?n.then(s,i):s(n)}))}function S(t){var e;return null==(e=t=t||document.body)?void 0:e.offsetHeight}const k=t=>window.CSS&&window.CSS.escape?CSS.escape(t):t,P=t=>1e3*Number(t.slice(0,-1).replace(",","."));class A{constructor(t){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating"],this.swup=t}get selectors(){const{scope:t}=this.swup.visit.animation;return"containers"===t?this.swup.visit.containers:"html"===t?["html"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?w(this.selector):[]}add(...t){this.targets.forEach((e=>e.classList.add(...t)))}remove(...t){this.targets.forEach((e=>e.classList.remove(...t)))}clear(){this.targets.forEach((t=>{const e=t.className.split(" ").filter((t=>this.isSwupClass(t)));t.classList.remove(...e)}))}isSwupClass(t){return this.swupClasses.some((e=>t.startsWith(e)))}}function T({to:t,from:e=this.currentPageUrl,hash:s,el:i,event:n}){return{id:Math.random(),from:{url:e},to:{url:t,hash:s},containers:this.options.containers,animation:{animate:!0,wait:!1,name:void 0,scope:this.options.animationScope,selector:this.options.animationSelector},trigger:{el:i,event:n},cache:{read:this.options.cache,write:this.options.cache},history:{action:"push",popstate:!1,direction:void 0},scroll:{reset:!0,target:void 0}}}class E{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:end"],this.swup=t,this.init()}init(){this.hooks.forEach((t=>this.create(t)))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){const e=this.registry.get(t);if(e)return e;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach((t=>t.clear()))}on(t,e,s={}){const i=this.get(t);if(!i)return console.warn(`Hook '${t}' not found.`),()=>{};const n=o({},s,{id:i.size+1,hook:t,handler:e});return i.set(e,n),()=>this.off(t,e)}before(t,e,s={}){return this.on(t,e,o({},s,{before:!0}))}replace(t,e,s={}){return this.on(t,e,o({},s,{replace:!0}))}once(t,e,s={}){return this.on(t,e,o({},s,{once:!0}))}off(t,e){const s=this.get(t);s&&e?s.delete(e)||console.warn(`Handler for hook '${t}' not found.`):s&&s.clear()}async call(t,e,s){const{before:i,handler:n,after:o}=this.getHandlers(t,s);await this.run(i,e);const[r]=await this.run(n,e);return await this.run(o,e),this.dispatchDomEvent(t,e),r}callSync(t,e,s){const{before:i,handler:n,after:o}=this.getHandlers(t,s);this.runSync(i,e);const[r]=this.runSync(n,e);return this.runSync(o,e),this.dispatchDomEvent(t,e),r}async run(t,e){const s=[];for(const{hook:i,handler:n,defaultHandler:o,once:r}of t){const t=await b(n,[this.swup.visit,e,o]);s.push(t),r&&this.off(i,n)}return s}runSync(t,e){const s=[];for(const{hook:i,handler:n,defaultHandler:o,once:r}of t){const t=n(this.swup.visit,e,o);s.push(t),y(t)&&console.warn(`Promise returned from handler for synchronous hook '${i}'.Swup will not wait for it to resolve.`),r&&this.off(i,n)}return s}getHandlers(t,e){const s=this.get(t);if(!s)return{found:!1,before:[],handler:[],after:[],replaced:!1};const i=Array.from(s.values()),n=this.sortRegistrations,o=i.filter((({before:t,replace:e})=>t&&!e)).sort(n),r=i.filter((({replace:t})=>t)).filter((t=>!0)).sort(n),a=i.filter((({before:t,replace:e})=>!t&&!e)).sort(n),l=r.length>0;let c=[];if(e&&(c=[{id:0,hook:t,handler:e}],l)){const s=r.length-1,i=t=>{const s=r[t-1];return s?(e,n)=>s.handler(e,n,i(t-1)):e};c=[{id:0,hook:t,handler:r[s].handler,defaultHandler:i(s)}]}return{found:!0,before:o,handler:c,after:a,replaced:l}}sortRegistrations(t,e){var s,i;return(null!=(s=t.priority)?s:0)-(null!=(i=e.priority)?i:0)||t.id-e.id||0}dispatchDomEvent(t,e){document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:{hook:t,args:e,visit:this.swup.visit}}))}}const O=t=>{if(t&&"#"===t.charAt(0)&&(t=t.substring(1)),!t)return null;const e=decodeURIComponent(t);let s=document.getElementById(t)||document.getElementById(e)||g(`a[name='${k(t)}']`)||g(`a[name='${k(e)}']`);return s||"top"!==t||(s=document.body),s},j="transition",L="animation";async function C({elements:t,selector:e}){if(!1===e&&!t)return;let s=[];if(t)s=Array.from(t);else if(e&&(s=w(e,document.body),!s.length))return void console.warn(`[swup] No elements found matching animationSelector \`${e}\``);const i=s.map((t=>function(t){const{type:e,timeout:s,propCount:i}=function(t,e){const s=window.getComputedStyle(t),i=x(s,`${j}Delay`),n=x(s,`${j}Duration`),o=U(i,n),r=x(s,`${L}Delay`),a=x(s,`${L}Duration`),l=U(r,a);let c=null,h=0,u=0;return h=Math.max(o,l),c=h>0?o>l?j:L:null,u=c?c===j?n.length:a.length:0,{type:c,timeout:h,propCount:u}}(t);return!(!e||!s)&&new Promise((n=>{const o=`${e}end`,r=performance.now();let a=0;const l=()=>{t.removeEventListener(o,c),n()},c=e=>{if(e.target===t){if(!function(t){return[`${j}end`,`${L}end`].includes(t.type)}(e))throw new Error("Not a transition or animation event.");(performance.now()-r)/1e3<e.elapsedTime||++a>=i&&l()}};setTimeout((()=>{a<i&&l()}),s+1),t.addEventListener(o,c)}))}(t)));i.filter(Boolean).length>0?await Promise.all(i):e&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${e}\``)}function x(t,e){return(t[e]||"").split(", ")}function U(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,s)=>P(e)+P(t[s]))))}function q(t,e={},s={}){if("string"!=typeof t)throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(t,{el:s.el,event:s.event}))return void(window.location.href=t);const{url:i,hash:n}=u.fromUrl(t);this.visit=this.createVisit(o({},s,{to:i,hash:n})),this.performNavigation(e)}async function $(t={}){this.navigating=!0;const e=this.visit,{el:s}=e.trigger;t.referrer=t.referrer||this.currentPageUrl,!1===t.animate&&(e.animation.animate=!1),e.animation.animate||this.classes.clear();const i=t.history||(null==s?void 0:s.getAttribute("data-swup-history"))||void 0;i&&["push","replace"].includes(i)&&(e.history.action=i);const n=t.animation||(null==s?void 0:s.getAttribute("data-swup-animation"))||void 0;var o,r;n&&(e.animation.name=n),"object"==typeof t.cache?(e.cache.read=null!=(o=t.cache.read)?o:e.cache.read,e.cache.write=null!=(r=t.cache.write)?r:e.cache.write):void 0!==t.cache&&(e.cache={read:!!t.cache,write:!!t.cache}),delete t.cache;try{await this.hooks.call("visit:start",void 0);const s=this.hooks.call("page:load",{options:t},(async(t,e)=>{let s;return t.cache.read&&(s=this.cache.get(t.to.url)),e.page=s||await this.fetchPage(t.to.url,e.options),e.cache=!!s,e.page}));if(!e.history.popstate){const t=e.to.url+e.to.hash;"replace"===e.history.action||e.to.url===this.currentPageUrl?c(t):(this.currentHistoryIndex++,l(t,{index:this.currentHistoryIndex}))}if(this.currentPageUrl=a(),e.animation.wait){const{html:t}=await s;e.to.html=t}await this.hooks.call("visit:transition",void 0,(async t=>{const e=this.animatePageOut(),[i]=await Promise.all([s,e]);return t.id===this.visit.id&&(await this.renderPage(i),await this.animatePageIn(),!0)})),await this.hooks.call("visit:end",void 0,(()=>this.classes.clear())),this.navigating=!1}catch(t){if(!t||null!=t&&t.aborted)return;console.error(t),this.options.skipPopStateHandling=()=>(window.location.href=e.to.url+e.to.hash,!0),window.history.go(-1)}}const _=async function(){this.visit.animation.animate?(await this.hooks.call("animation:out:start",void 0,(t=>{this.classes.add("is-changing","is-leaving","is-animating"),t.history.popstate&&this.classes.add("is-popstate"),t.animation.name&&this.classes.add(`to-${r(t.animation.name)}`)})),await this.hooks.call("animation:out:await",{skip:!1},(async(t,{skip:e})=>{e||await this.awaitAnimations({selector:t.animation.selector})})),await this.hooks.call("animation:out:end",void 0)):await this.hooks.call("animation:skip",void 0)},R=function({html:t},{containers:e}=this.options){var s;const i=(new DOMParser).parseFromString(t,"text/html"),n=(null==(s=i.querySelector("title"))?void 0:s.innerText)||"";document.title=n;const o=w('[data-swup-persist]:not([data-swup-persist=""])'),r=e.map((t=>{const e=document.querySelector(t),s=i.querySelector(t);return e&&s?(e.replaceWith(s),!0):(e||console.warn(`[swup] Container missing in current document: ${t}`),s||console.warn(`[swup] Container missing in incoming document: ${t}`),!1)})).filter(Boolean);return o.forEach((t=>{const e=t.getAttribute("data-swup-persist"),s=g(`[data-swup-persist="${e}"]`);s&&s!==t&&s.replaceWith(t)})),r.length===e.length},H=function(){const t={behavior:"auto"},{target:e,reset:s}=this.visit.scroll,i=null!=e?e:this.visit.to.hash;let n=!1;return i&&(n=this.hooks.callSync("scroll:anchor",{hash:i,options:t},((t,{hash:e,options:s})=>{const i=this.getAnchorElement(e);return i&&i.scrollIntoView(s),!!i}))),s&&!n&&(n=this.hooks.callSync("scroll:top",{options:t},((t,{options:e})=>(window.scrollTo(o({top:0,left:0},e)),!0)))),n},F=async function(){if(!this.visit.animation.animate)return;const t=this.hooks.call("animation:in:await",{skip:!1},(async(t,{skip:e})=>{e||await this.awaitAnimations({selector:t.animation.selector})}));await v(),await this.hooks.call("animation:in:start",void 0,(()=>{this.classes.remove("is-animating")})),await t,await this.hooks.call("animation:in:end",void 0)},M=async function(t){const{url:e,html:s}=t;this.classes.remove("is-leaving"),this.isSameResolvedUrl(a(),e)||(c(e),this.currentPageUrl=a(),this.visit.to.url=this.currentPageUrl),this.visit.animation.animate&&this.classes.add("is-rendering"),this.visit.to.html=s,await this.hooks.call("content:replace",{page:t},((t,{page:e})=>{if(!this.replaceContent(e,{containers:t.containers}))throw new Error("[swup] Container mismatch, aborting");t.animation.animate&&(this.classes.add("is-animating","is-changing","is-rendering"),t.animation.name&&this.classes.add(`to-${r(t.animation.name)}`))})),await this.hooks.call("content:scroll",void 0,(()=>this.scrollToContent())),await this.hooks.call("page:view",{url:this.currentPageUrl,title:document.title})},D=function(t){var e;if(e=t,Boolean(null==e?void 0:e.isSwupPlugin)){if(t.swup=this,!t._checkRequirements||t._checkRequirements())return t._beforeMount&&t._beforeMount(),t.mount(),this.plugins.push(t),this.plugins}else console.error("Not a swup plugin instance",t)};function I(t){const e=this.findPlugin(t);if(e)return e.unmount(),e._afterUnmount&&e._afterUnmount(),this.plugins=this.plugins.filter((t=>t!==e)),this.plugins;console.error("No such plugin",e)}function V(t){return this.plugins.find((e=>e===t||e.name===t||e.name===`Swup${String(t)}`))}function B(t){if("function"!=typeof this.options.resolveUrl)return console.warn("[swup] options.resolveUrl expects a callback function."),t;const e=this.options.resolveUrl(t);return e&&"string"==typeof e?e.startsWith("//")||e.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),t):e:(console.warn("[swup] options.resolveUrl needs to return a url"),t)}function N(t,e){return this.resolveUrl(t)===this.resolveUrl(e)}const K={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],ignoreVisit:(t,{el:e}={})=>!(null==e||!e.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",plugins:[],resolveUrl:t=>t,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:t=>{var e;return"swup"!==(null==(e=t.state)?void 0:e.source)},timeout:0};class W{constructor(t={}){var e,s;this.version="4.4.2",this.options=void 0,this.defaults=K,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.currentPageUrl=a(),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.use=D,this.unuse=I,this.findPlugin=V,this.log=()=>{},this.navigate=q,this.performNavigation=$,this.createVisit=T,this.delegateEvent=h,this.fetchPage=m,this.awaitAnimations=C,this.renderPage=M,this.replaceContent=R,this.animatePageIn=F,this.animatePageOut=_,this.scrollToContent=H,this.getAnchorElement=O,this.getCurrentUrl=a,this.resolveUrl=B,this.isSameResolvedUrl=N,this.options=o({},this.defaults,t),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new f(this),this.classes=new A(this),this.hooks=new E(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=null!=(e=null==(s=history.state)?void 0:s.index)?e:1,this.checkRequirements()&&this.enable()}checkRequirements(){return"undefined"!=typeof Promise||(console.warn("Promise is not supported"),!1)}async enable(){var t;const{linkSelector:e}=this.options;this.clickDelegate=this.delegateEvent(e,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.plugins.forEach((t=>this.use(t))),"swup"!==(null==(t=history.state)?void 0:t.source)&&c(null,{index:this.currentHistoryIndex}),await v(),await this.hooks.call("enable",void 0,(()=>{document.documentElement.classList.add("swup-enabled")}))}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach((t=>this.unuse(t))),await this.hooks.call("disable",void 0,(()=>{document.documentElement.classList.remove("swup-enabled")})),this.hooks.clear()}shouldIgnoreVisit(t,{el:e,event:s}={}){const{origin:i,url:n,hash:o}=u.fromUrl(t);return i!==window.location.origin||!(!e||!this.triggerWillOpenNewWindow(e))||!!this.options.ignoreVisit(n+o,{el:e,event:s})}handleLinkClick(t){const e=t.delegateTarget,{href:s,url:i,hash:n}=u.fromElement(e);this.shouldIgnoreVisit(s,{el:e,event:t})||(this.navigating&&i===this.visit.to.url?t.preventDefault():(this.visit=this.createVisit({to:i,hash:n,el:e,event:t}),t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.call("link:newtab",{href:s}):0===t.button&&this.hooks.callSync("link:click",{el:e,event:t},(()=>{var e;const s=null!=(e=this.visit.from.url)?e:"";t.preventDefault(),i&&i!==s?this.isSameResolvedUrl(i,s)||this.performNavigation():n?this.hooks.callSync("link:anchor",{hash:n},(()=>{c(i+n),this.scrollToContent()})):this.hooks.callSync("link:self",void 0,(()=>"navigate"===this.options.linkToSelf?this.performNavigation():(c(i),this.scrollToContent())))}))))}handlePopState(t){var e,s,i,n;const o=null!=(e=null==(s=t.state)?void 0:s.url)?e:location.href;if(this.options.skipPopStateHandling(t))return;if(this.isSameResolvedUrl(a(),this.currentPageUrl))return;const{url:r,hash:l}=u.fromUrl(o);this.visit=this.createVisit({to:r,hash:l,event:t}),this.visit.history.popstate=!0;const c=null!=(i=null==(n=t.state)?void 0:n.index)?i:0;c&&c!==this.currentHistoryIndex&&(this.visit.history.direction=c-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=c),this.visit.animation.animate=!1,this.visit.scroll.reset=!1,this.visit.scroll.target=!1,this.options.animateHistoryBrowsing&&(this.visit.animation.animate=!0,this.visit.scroll.reset=!0),this.hooks.callSync("history:popstate",{event:t},(()=>{this.performNavigation()}))}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target="_blank"]')}}}}]);